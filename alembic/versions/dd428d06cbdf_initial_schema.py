"""initial schema

Revision ID: dd428d06cbdf
Revises: 
Create Date: 2025-12-16 15:52:17.665241

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision: str = 'dd428d06cbdf'
down_revision: Union[str, Sequence[str], None] = None
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('activity_rules',
    sa.Column('name', sa.String(length=255), nullable=False),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_activity_rules_created_by'), 'activity_rules', ['created_by'], unique=False)
    op.create_index(op.f('ix_activity_rules_deleted_by'), 'activity_rules', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_activity_rules_id'), 'activity_rules', ['id'], unique=False)
    op.create_index(op.f('ix_activity_rules_updated_by'), 'activity_rules', ['updated_by'], unique=False)
    op.create_index(op.f('ix_activity_rules_uuid'), 'activity_rules', ['uuid'], unique=True)
    op.create_table('activity_types',
    sa.Column('category_key', sa.String(), nullable=False),
    sa.Column('label', sa.String(), nullable=False),
    sa.Column('group', sa.String(), nullable=True),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('color', sa.String(), nullable=True),
    sa.Column('icon', sa.String(), nullable=True),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('is_enabled', sa.Boolean(), nullable=False),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_activity_types_category_key'), 'activity_types', ['category_key'], unique=True)
    op.create_index(op.f('ix_activity_types_created_by'), 'activity_types', ['created_by'], unique=False)
    op.create_index(op.f('ix_activity_types_deleted_by'), 'activity_types', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_activity_types_id'), 'activity_types', ['id'], unique=False)
    op.create_index(op.f('ix_activity_types_updated_by'), 'activity_types', ['updated_by'], unique=False)
    op.create_index(op.f('ix_activity_types_uuid'), 'activity_types', ['uuid'], unique=True)
    op.create_table('files',
    sa.Column('url', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('mime_type', sa.String(), nullable=True),
    sa.Column('size_bytes', sa.Integer(), nullable=True),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_files_created_by'), 'files', ['created_by'], unique=False)
    op.create_index(op.f('ix_files_deleted_by'), 'files', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_files_id'), 'files', ['id'], unique=False)
    op.create_index(op.f('ix_files_updated_by'), 'files', ['updated_by'], unique=False)
    op.create_index(op.f('ix_files_uuid'), 'files', ['uuid'], unique=True)
    op.create_table('organizers',
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('email', sa.String(), nullable=True),
    sa.Column('phone', sa.String(), nullable=True),
    sa.Column('address', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('website', sa.String(), nullable=True),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('logo_url', sa.String(), nullable=True),
    sa.Column('banner_url', sa.String(), nullable=True),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_organizers_created_by'), 'organizers', ['created_by'], unique=False)
    op.create_index(op.f('ix_organizers_deleted_by'), 'organizers', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_organizers_id'), 'organizers', ['id'], unique=False)
    op.create_index(op.f('ix_organizers_status'), 'organizers', ['status'], unique=False)
    op.create_index(op.f('ix_organizers_updated_by'), 'organizers', ['updated_by'], unique=False)
    op.create_index(op.f('ix_organizers_uuid'), 'organizers', ['uuid'], unique=True)
    op.create_table('platforms',
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('slug', sa.String(), nullable=True),
    sa.Column('domain', sa.String(), nullable=True),
    sa.Column('region', sa.String(), nullable=True),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('is_default', sa.Boolean(), nullable=False),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('domain')
    )
    op.create_index(op.f('ix_platforms_created_by'), 'platforms', ['created_by'], unique=False)
    op.create_index(op.f('ix_platforms_deleted_by'), 'platforms', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_platforms_id'), 'platforms', ['id'], unique=False)
    op.create_index(op.f('ix_platforms_name'), 'platforms', ['name'], unique=False)
    op.create_index(op.f('ix_platforms_slug'), 'platforms', ['slug'], unique=True)
    op.create_index(op.f('ix_platforms_updated_by'), 'platforms', ['updated_by'], unique=False)
    op.create_index(op.f('ix_platforms_uuid'), 'platforms', ['uuid'], unique=True)
    op.create_table('submission_files',
    sa.Column('submission_uuid', sa.UUID(), nullable=False),
    sa.Column('submission_value_uuid', sa.UUID(), nullable=True),
    sa.Column('file_uuid', sa.UUID(), nullable=False),
    sa.Column('uploaded_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_submission_files_created_by'), 'submission_files', ['created_by'], unique=False)
    op.create_index(op.f('ix_submission_files_deleted_by'), 'submission_files', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_submission_files_file_uuid'), 'submission_files', ['file_uuid'], unique=False)
    op.create_index(op.f('ix_submission_files_id'), 'submission_files', ['id'], unique=False)
    op.create_index(op.f('ix_submission_files_submission_uuid'), 'submission_files', ['submission_uuid'], unique=False)
    op.create_index(op.f('ix_submission_files_submission_value_uuid'), 'submission_files', ['submission_value_uuid'], unique=False)
    op.create_index(op.f('ix_submission_files_updated_by'), 'submission_files', ['updated_by'], unique=False)
    op.create_index(op.f('ix_submission_files_uuid'), 'submission_files', ['uuid'], unique=True)
    op.create_table('submission_values',
    sa.Column('submission_uuid', sa.UUID(), nullable=False),
    sa.Column('event_field_uuid', sa.UUID(), nullable=False),
    sa.Column('field_key', sa.String(), nullable=False),
    sa.Column('raw_value', sa.String(), nullable=True),
    sa.Column('value', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_submission_values_created_by'), 'submission_values', ['created_by'], unique=False)
    op.create_index(op.f('ix_submission_values_deleted_by'), 'submission_values', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_submission_values_event_field_uuid'), 'submission_values', ['event_field_uuid'], unique=False)
    op.create_index(op.f('ix_submission_values_id'), 'submission_values', ['id'], unique=False)
    op.create_index(op.f('ix_submission_values_submission_uuid'), 'submission_values', ['submission_uuid'], unique=False)
    op.create_index(op.f('ix_submission_values_updated_by'), 'submission_values', ['updated_by'], unique=False)
    op.create_index(op.f('ix_submission_values_uuid'), 'submission_values', ['uuid'], unique=True)
    op.create_table('submissions',
    sa.Column('submission_code', sa.String(), nullable=False),
    sa.Column('event_uuid', sa.UUID(), nullable=False),
    sa.Column('user_email', sa.String(), nullable=False),
    sa.Column('user_uuid', sa.UUID(), nullable=True),
    sa.Column('status', sa.Enum('pending', 'paid', 'canceled', 'completed', 'waitlist', name='submission_status'), nullable=False),
    sa.Column('status_reason', sa.Text(), nullable=True),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('ip_address', sa.String(), nullable=True),
    sa.Column('user_agent', sa.Text(), nullable=True),
    sa.Column('submitted_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('extra_data', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_submissions_created_by'), 'submissions', ['created_by'], unique=False)
    op.create_index(op.f('ix_submissions_deleted_by'), 'submissions', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_submissions_event_uuid'), 'submissions', ['event_uuid'], unique=False)
    op.create_index(op.f('ix_submissions_id'), 'submissions', ['id'], unique=False)
    op.create_index(op.f('ix_submissions_submission_code'), 'submissions', ['submission_code'], unique=True)
    op.create_index(op.f('ix_submissions_updated_by'), 'submissions', ['updated_by'], unique=False)
    op.create_index(op.f('ix_submissions_user_email'), 'submissions', ['user_email'], unique=False)
    op.create_index(op.f('ix_submissions_user_uuid'), 'submissions', ['user_uuid'], unique=False)
    op.create_index(op.f('ix_submissions_uuid'), 'submissions', ['uuid'], unique=True)
    op.create_table('system_config_versions',
    sa.Column('version_code', sa.String(), nullable=False),
    sa.Column('target_type', sa.String(), nullable=False),
    sa.Column('target_uuid', sa.Uuid(), nullable=True),
    sa.Column('user_uuid', sa.Uuid(), nullable=True),
    sa.Column('user_email', sa.String(), nullable=True),
    sa.Column('config_snapshot', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('ip_address', sa.String(), nullable=True),
    sa.Column('user_agent', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_system_config_versions_created_by'), 'system_config_versions', ['created_by'], unique=False)
    op.create_index(op.f('ix_system_config_versions_deleted_by'), 'system_config_versions', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_system_config_versions_id'), 'system_config_versions', ['id'], unique=False)
    op.create_index(op.f('ix_system_config_versions_updated_by'), 'system_config_versions', ['updated_by'], unique=False)
    op.create_index(op.f('ix_system_config_versions_uuid'), 'system_config_versions', ['uuid'], unique=True)
    op.create_index(op.f('ix_system_config_versions_version_code'), 'system_config_versions', ['version_code'], unique=True)
    op.create_table('system_notifications',
    sa.Column('notification_code', sa.String(), nullable=False),
    sa.Column('title', sa.String(), nullable=False),
    sa.Column('message', sa.Text(), nullable=False),
    sa.Column('level', sa.String(), nullable=False),
    sa.Column('is_published', sa.Boolean(), nullable=False),
    sa.Column('published_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_system_notifications_created_by'), 'system_notifications', ['created_by'], unique=False)
    op.create_index(op.f('ix_system_notifications_deleted_by'), 'system_notifications', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_system_notifications_id'), 'system_notifications', ['id'], unique=False)
    op.create_index(op.f('ix_system_notifications_notification_code'), 'system_notifications', ['notification_code'], unique=True)
    op.create_index(op.f('ix_system_notifications_updated_by'), 'system_notifications', ['updated_by'], unique=False)
    op.create_index(op.f('ix_system_notifications_uuid'), 'system_notifications', ['uuid'], unique=True)
    op.create_table('system_settings',
    sa.Column('site_name', sa.String(length=255), nullable=False),
    sa.Column('logo_url', sa.String(length=500), nullable=True),
    sa.Column('support_email', sa.String(length=255), nullable=True),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_system_settings_created_by'), 'system_settings', ['created_by'], unique=False)
    op.create_index(op.f('ix_system_settings_deleted_by'), 'system_settings', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_system_settings_id'), 'system_settings', ['id'], unique=False)
    op.create_index(op.f('ix_system_settings_updated_by'), 'system_settings', ['updated_by'], unique=False)
    op.create_index(op.f('ix_system_settings_uuid'), 'system_settings', ['uuid'], unique=True)
    op.create_table('users',
    sa.Column('email', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('phone', sa.String(), nullable=True),
    sa.Column('avatar_url', sa.String(), nullable=True),
    sa.Column('auth_provider', sa.String(), nullable=False),
    sa.Column('provider_id', sa.String(), nullable=True),
    sa.Column('password_hash', sa.String(), nullable=True),
    sa.Column('is_email_verified', sa.Boolean(), nullable=False),
    sa.Column('email_verification_token', sa.String(), nullable=True),
    sa.Column('email_verified_at', sa.DateTime(), nullable=True),
    sa.Column('last_login_at', sa.DateTime(), nullable=True),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_users_created_by'), 'users', ['created_by'], unique=False)
    op.create_index(op.f('ix_users_deleted_by'), 'users', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_users_email'), 'users', ['email'], unique=True)
    op.create_index(op.f('ix_users_id'), 'users', ['id'], unique=False)
    op.create_index(op.f('ix_users_phone'), 'users', ['phone'], unique=False)
    op.create_index(op.f('ix_users_updated_by'), 'users', ['updated_by'], unique=False)
    op.create_index(op.f('ix_users_uuid'), 'users', ['uuid'], unique=True)
    op.create_table('activity_templates',
    sa.Column('template_code', sa.String(), nullable=True),
    sa.Column('activity_type_uuid', sa.UUID(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['activity_type_uuid'], ['activity_types.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_activity_templates_activity_type_uuid'), 'activity_templates', ['activity_type_uuid'], unique=False)
    op.create_index(op.f('ix_activity_templates_created_by'), 'activity_templates', ['created_by'], unique=False)
    op.create_index(op.f('ix_activity_templates_deleted_by'), 'activity_templates', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_activity_templates_id'), 'activity_templates', ['id'], unique=False)
    op.create_index(op.f('ix_activity_templates_template_code'), 'activity_templates', ['template_code'], unique=True)
    op.create_index(op.f('ix_activity_templates_updated_by'), 'activity_templates', ['updated_by'], unique=False)
    op.create_index(op.f('ix_activity_templates_uuid'), 'activity_templates', ['uuid'], unique=True)
    op.create_table('auth_logs',
    sa.Column('user_uuid', sa.UUID(), nullable=True),
    sa.Column('event', sa.String(), nullable=False),
    sa.Column('ip', sa.String(), nullable=True),
    sa.Column('user_agent', sa.String(), nullable=True),
    sa.Column('detail', sa.String(), nullable=True),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['user_uuid'], ['users.uuid'], ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_auth_logs_created_by'), 'auth_logs', ['created_by'], unique=False)
    op.create_index(op.f('ix_auth_logs_deleted_by'), 'auth_logs', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_auth_logs_id'), 'auth_logs', ['id'], unique=False)
    op.create_index(op.f('ix_auth_logs_updated_by'), 'auth_logs', ['updated_by'], unique=False)
    op.create_index(op.f('ix_auth_logs_user_uuid'), 'auth_logs', ['user_uuid'], unique=False)
    op.create_index(op.f('ix_auth_logs_uuid'), 'auth_logs', ['uuid'], unique=True)
    op.create_table('email_verifications',
    sa.Column('user_uuid', sa.UUID(), nullable=False),
    sa.Column('email', sa.String(), nullable=False),
    sa.Column('token', sa.String(), nullable=False),
    sa.Column('expires_at', sa.DateTime(), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['user_uuid'], ['users.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_email_verifications_created_by'), 'email_verifications', ['created_by'], unique=False)
    op.create_index(op.f('ix_email_verifications_deleted_by'), 'email_verifications', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_email_verifications_email'), 'email_verifications', ['email'], unique=False)
    op.create_index(op.f('ix_email_verifications_id'), 'email_verifications', ['id'], unique=False)
    op.create_index(op.f('ix_email_verifications_updated_by'), 'email_verifications', ['updated_by'], unique=False)
    op.create_index(op.f('ix_email_verifications_user_uuid'), 'email_verifications', ['user_uuid'], unique=False)
    op.create_index(op.f('ix_email_verifications_uuid'), 'email_verifications', ['uuid'], unique=True)
    op.create_table('organizer_applications',
    sa.Column('user_uuid', sa.UUID(), nullable=False),
    sa.Column('application_data', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('reason', sa.String(), nullable=True),
    sa.Column('submitted_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('reviewed_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('reviewer_uuid', sa.Uuid(), nullable=True),
    sa.Column('reviewer_role', sa.String(), nullable=True),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['user_uuid'], ['users.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_organizer_applications_created_by'), 'organizer_applications', ['created_by'], unique=False)
    op.create_index(op.f('ix_organizer_applications_deleted_by'), 'organizer_applications', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_organizer_applications_id'), 'organizer_applications', ['id'], unique=False)
    op.create_index(op.f('ix_organizer_applications_updated_by'), 'organizer_applications', ['updated_by'], unique=False)
    op.create_index(op.f('ix_organizer_applications_user_uuid'), 'organizer_applications', ['user_uuid'], unique=False)
    op.create_index(op.f('ix_organizer_applications_uuid'), 'organizer_applications', ['uuid'], unique=True)
    op.create_table('organizer_memberships',
    sa.Column('user_uuid', sa.UUID(), nullable=False),
    sa.Column('organizer_uuid', sa.UUID(), nullable=False),
    sa.Column('role', sa.String(), nullable=False),
    sa.Column('is_suspended', sa.Boolean(), nullable=False),
    sa.Column('suspended_reason', sa.String(), nullable=True),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['organizer_uuid'], ['organizers.uuid'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_uuid'], ['users.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('user_uuid', 'organizer_uuid', name='uq_user_organizer')
    )
    op.create_index(op.f('ix_organizer_memberships_created_by'), 'organizer_memberships', ['created_by'], unique=False)
    op.create_index(op.f('ix_organizer_memberships_deleted_by'), 'organizer_memberships', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_organizer_memberships_id'), 'organizer_memberships', ['id'], unique=False)
    op.create_index(op.f('ix_organizer_memberships_organizer_uuid'), 'organizer_memberships', ['organizer_uuid'], unique=False)
    op.create_index(op.f('ix_organizer_memberships_role'), 'organizer_memberships', ['role'], unique=False)
    op.create_index(op.f('ix_organizer_memberships_updated_by'), 'organizer_memberships', ['updated_by'], unique=False)
    op.create_index(op.f('ix_organizer_memberships_user_uuid'), 'organizer_memberships', ['user_uuid'], unique=False)
    op.create_index(op.f('ix_organizer_memberships_uuid'), 'organizer_memberships', ['uuid'], unique=True)
    op.create_table('password_resets',
    sa.Column('user_uuid', sa.UUID(), nullable=False),
    sa.Column('email', sa.String(), nullable=False),
    sa.Column('token', sa.String(), nullable=False),
    sa.Column('expires_at', sa.DateTime(), nullable=False),
    sa.Column('used', sa.Boolean(), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['user_uuid'], ['users.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_password_resets_created_by'), 'password_resets', ['created_by'], unique=False)
    op.create_index(op.f('ix_password_resets_deleted_by'), 'password_resets', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_password_resets_email'), 'password_resets', ['email'], unique=False)
    op.create_index(op.f('ix_password_resets_id'), 'password_resets', ['id'], unique=False)
    op.create_index(op.f('ix_password_resets_token'), 'password_resets', ['token'], unique=False)
    op.create_index(op.f('ix_password_resets_updated_by'), 'password_resets', ['updated_by'], unique=False)
    op.create_index(op.f('ix_password_resets_user_uuid'), 'password_resets', ['user_uuid'], unique=False)
    op.create_index(op.f('ix_password_resets_uuid'), 'password_resets', ['uuid'], unique=True)
    op.create_table('refresh_tokens',
    sa.Column('user_uuid', sa.UUID(), nullable=False),
    sa.Column('token', sa.String(), nullable=False),
    sa.Column('user_agent', sa.String(), nullable=True),
    sa.Column('revoked', sa.Boolean(), nullable=False),
    sa.Column('expires_at', sa.DateTime(), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['user_uuid'], ['users.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_refresh_tokens_created_by'), 'refresh_tokens', ['created_by'], unique=False)
    op.create_index(op.f('ix_refresh_tokens_deleted_by'), 'refresh_tokens', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_refresh_tokens_id'), 'refresh_tokens', ['id'], unique=False)
    op.create_index(op.f('ix_refresh_tokens_token'), 'refresh_tokens', ['token'], unique=True)
    op.create_index(op.f('ix_refresh_tokens_updated_by'), 'refresh_tokens', ['updated_by'], unique=False)
    op.create_index(op.f('ix_refresh_tokens_user_uuid'), 'refresh_tokens', ['user_uuid'], unique=False)
    op.create_index(op.f('ix_refresh_tokens_uuid'), 'refresh_tokens', ['uuid'], unique=True)
    op.create_table('system_audit_logs',
    sa.Column('audit_code', sa.String(), nullable=False),
    sa.Column('user_uuid', sa.UUID(), nullable=True),
    sa.Column('user_email', sa.String(), nullable=False),
    sa.Column('user_role', sa.String(), nullable=True),
    sa.Column('action', sa.String(), nullable=False),
    sa.Column('target_type', sa.String(), nullable=True),
    sa.Column('target_uuid', sa.Uuid(), nullable=True),
    sa.Column('before_data', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('after_data', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('ip_address', sa.String(), nullable=True),
    sa.Column('user_agent', sa.Text(), nullable=True),
    sa.Column('timestamp', sa.DateTime(timezone=True), nullable=False),
    sa.Column('extra', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['user_uuid'], ['users.uuid'], ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_system_audit_logs_action'), 'system_audit_logs', ['action'], unique=False)
    op.create_index(op.f('ix_system_audit_logs_audit_code'), 'system_audit_logs', ['audit_code'], unique=True)
    op.create_index(op.f('ix_system_audit_logs_created_by'), 'system_audit_logs', ['created_by'], unique=False)
    op.create_index(op.f('ix_system_audit_logs_deleted_by'), 'system_audit_logs', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_system_audit_logs_id'), 'system_audit_logs', ['id'], unique=False)
    op.create_index(op.f('ix_system_audit_logs_updated_by'), 'system_audit_logs', ['updated_by'], unique=False)
    op.create_index(op.f('ix_system_audit_logs_user_email'), 'system_audit_logs', ['user_email'], unique=False)
    op.create_index(op.f('ix_system_audit_logs_user_uuid'), 'system_audit_logs', ['user_uuid'], unique=False)
    op.create_index(op.f('ix_system_audit_logs_uuid'), 'system_audit_logs', ['uuid'], unique=True)
    op.create_table('system_memberships',
    sa.Column('user_uuid', sa.UUID(), nullable=False),
    sa.Column('role', sa.String(), nullable=False),
    sa.Column('is_suspended', sa.Boolean(), nullable=False),
    sa.Column('suspended_reason', sa.String(), nullable=True),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['user_uuid'], ['users.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('user_uuid', name='uq_system_user')
    )
    op.create_index(op.f('ix_system_memberships_created_by'), 'system_memberships', ['created_by'], unique=False)
    op.create_index(op.f('ix_system_memberships_deleted_by'), 'system_memberships', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_system_memberships_id'), 'system_memberships', ['id'], unique=False)
    op.create_index(op.f('ix_system_memberships_role'), 'system_memberships', ['role'], unique=False)
    op.create_index(op.f('ix_system_memberships_updated_by'), 'system_memberships', ['updated_by'], unique=False)
    op.create_index(op.f('ix_system_memberships_user_uuid'), 'system_memberships', ['user_uuid'], unique=False)
    op.create_index(op.f('ix_system_memberships_uuid'), 'system_memberships', ['uuid'], unique=True)
    op.create_table('user_settings',
    sa.Column('user_uuid', sa.UUID(), nullable=False),
    sa.Column('dark_mode', sa.Boolean(), nullable=False),
    sa.Column('locale', sa.String(), nullable=False),
    sa.Column('notify_email', sa.Boolean(), nullable=False),
    sa.Column('notify_sms', sa.Boolean(), nullable=False),
    sa.Column('notify_marketing', sa.Boolean(), nullable=False),
    sa.Column('ui_preferences', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['user_uuid'], ['users.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_user_settings_created_by'), 'user_settings', ['created_by'], unique=False)
    op.create_index(op.f('ix_user_settings_deleted_by'), 'user_settings', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_user_settings_id'), 'user_settings', ['id'], unique=False)
    op.create_index(op.f('ix_user_settings_updated_by'), 'user_settings', ['updated_by'], unique=False)
    op.create_index(op.f('ix_user_settings_user_uuid'), 'user_settings', ['user_uuid'], unique=True)
    op.create_index(op.f('ix_user_settings_uuid'), 'user_settings', ['uuid'], unique=True)
    op.create_table('activity_template_fields',
    sa.Column('template_uuid', sa.UUID(), nullable=False),
    sa.Column('field_key', sa.String(length=100), nullable=False),
    sa.Column('label', sa.String(length=255), nullable=False),
    sa.Column('placeholder', sa.String(length=255), nullable=True),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('field_type', sa.String(length=50), nullable=False),
    sa.Column('required', sa.Boolean(), nullable=False),
    sa.Column('validation', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('is_enabled', sa.Boolean(), nullable=False),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['template_uuid'], ['activity_templates.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_activity_template_fields_created_by'), 'activity_template_fields', ['created_by'], unique=False)
    op.create_index(op.f('ix_activity_template_fields_deleted_by'), 'activity_template_fields', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_activity_template_fields_id'), 'activity_template_fields', ['id'], unique=False)
    op.create_index(op.f('ix_activity_template_fields_template_uuid'), 'activity_template_fields', ['template_uuid'], unique=False)
    op.create_index(op.f('ix_activity_template_fields_updated_by'), 'activity_template_fields', ['updated_by'], unique=False)
    op.create_index(op.f('ix_activity_template_fields_uuid'), 'activity_template_fields', ['uuid'], unique=True)
    op.create_table('activity_template_rules',
    sa.Column('template_uuid', sa.UUID(), nullable=False),
    sa.Column('rule_uuid', sa.UUID(), nullable=False),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['rule_uuid'], ['activity_rules.uuid'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['template_uuid'], ['activity_templates.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_activity_template_rules_created_by'), 'activity_template_rules', ['created_by'], unique=False)
    op.create_index(op.f('ix_activity_template_rules_deleted_by'), 'activity_template_rules', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_activity_template_rules_id'), 'activity_template_rules', ['id'], unique=False)
    op.create_index(op.f('ix_activity_template_rules_rule_uuid'), 'activity_template_rules', ['rule_uuid'], unique=False)
    op.create_index(op.f('ix_activity_template_rules_template_uuid'), 'activity_template_rules', ['template_uuid'], unique=False)
    op.create_index(op.f('ix_activity_template_rules_updated_by'), 'activity_template_rules', ['updated_by'], unique=False)
    op.create_index(op.f('ix_activity_template_rules_uuid'), 'activity_template_rules', ['uuid'], unique=True)
    op.create_table('events',
    sa.Column('event_code', sa.String(length=100), nullable=False),
    sa.Column('status', sa.String(length=50), nullable=False),
    sa.Column('organizer_uuid', sa.UUID(), nullable=False),
    sa.Column('aactivity_template_uuid', sa.UUID(), nullable=True),
    sa.Column('name', sa.String(length=255), nullable=False),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('start_date', sa.DateTime(), nullable=False),
    sa.Column('end_date', sa.DateTime(), nullable=True),
    sa.Column('registration_deadline', sa.DateTime(), nullable=True),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['aactivity_template_uuid'], ['activity_templates.uuid'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['organizer_uuid'], ['organizers.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_events_aactivity_template_uuid'), 'events', ['aactivity_template_uuid'], unique=False)
    op.create_index(op.f('ix_events_created_by'), 'events', ['created_by'], unique=False)
    op.create_index(op.f('ix_events_deleted_by'), 'events', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_events_event_code'), 'events', ['event_code'], unique=True)
    op.create_index(op.f('ix_events_id'), 'events', ['id'], unique=False)
    op.create_index(op.f('ix_events_organizer_uuid'), 'events', ['organizer_uuid'], unique=False)
    op.create_index(op.f('ix_events_status'), 'events', ['status'], unique=False)
    op.create_index(op.f('ix_events_updated_by'), 'events', ['updated_by'], unique=False)
    op.create_index(op.f('ix_events_uuid'), 'events', ['uuid'], unique=True)
    op.create_table('user_sessions',
    sa.Column('user_uuid', sa.UUID(), nullable=False),
    sa.Column('user_agent', sa.String(), nullable=True),
    sa.Column('ip_address', sa.String(), nullable=True),
    sa.Column('refresh_token_uuid', sa.UUID(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('last_active_at', sa.DateTime(), nullable=False),
    sa.Column('expires_at', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['refresh_token_uuid'], ['refresh_tokens.uuid'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['user_uuid'], ['users.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_user_sessions_created_by'), 'user_sessions', ['created_by'], unique=False)
    op.create_index(op.f('ix_user_sessions_deleted_by'), 'user_sessions', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_user_sessions_id'), 'user_sessions', ['id'], unique=False)
    op.create_index(op.f('ix_user_sessions_refresh_token_uuid'), 'user_sessions', ['refresh_token_uuid'], unique=False)
    op.create_index(op.f('ix_user_sessions_updated_by'), 'user_sessions', ['updated_by'], unique=False)
    op.create_index(op.f('ix_user_sessions_user_uuid'), 'user_sessions', ['user_uuid'], unique=False)
    op.create_index(op.f('ix_user_sessions_uuid'), 'user_sessions', ['uuid'], unique=True)
    op.create_table('activity_template_field_options',
    sa.Column('field_uuid', sa.UUID(), nullable=False),
    sa.Column('label', sa.String(length=255), nullable=False),
    sa.Column('value', sa.String(length=255), nullable=True),
    sa.Column('description', sa.String(length=500), nullable=True),
    sa.Column('color', sa.String(length=50), nullable=True),
    sa.Column('icon', sa.String(length=255), nullable=True),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('is_enabled', sa.Boolean(), nullable=False),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['field_uuid'], ['activity_template_fields.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_activity_template_field_options_created_by'), 'activity_template_field_options', ['created_by'], unique=False)
    op.create_index(op.f('ix_activity_template_field_options_deleted_by'), 'activity_template_field_options', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_activity_template_field_options_field_uuid'), 'activity_template_field_options', ['field_uuid'], unique=False)
    op.create_index(op.f('ix_activity_template_field_options_id'), 'activity_template_field_options', ['id'], unique=False)
    op.create_index(op.f('ix_activity_template_field_options_updated_by'), 'activity_template_field_options', ['updated_by'], unique=False)
    op.create_index(op.f('ix_activity_template_field_options_uuid'), 'activity_template_field_options', ['uuid'], unique=True)
    op.create_table('event_fields',
    sa.Column('event_uuid', sa.UUID(), nullable=False),
    sa.Column('field_key', sa.String(length=100), nullable=False),
    sa.Column('label', sa.String(length=255), nullable=False),
    sa.Column('placeholder', sa.String(length=255), nullable=True),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('field_type', sa.String(length=50), nullable=False),
    sa.Column('required', sa.Boolean(), nullable=False),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('options', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('validation', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('is_enabled', sa.Boolean(), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['event_uuid'], ['events.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_event_fields_created_by'), 'event_fields', ['created_by'], unique=False)
    op.create_index(op.f('ix_event_fields_deleted_by'), 'event_fields', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_event_fields_event_uuid'), 'event_fields', ['event_uuid'], unique=False)
    op.create_index(op.f('ix_event_fields_field_key'), 'event_fields', ['field_key'], unique=False)
    op.create_index(op.f('ix_event_fields_id'), 'event_fields', ['id'], unique=False)
    op.create_index(op.f('ix_event_fields_updated_by'), 'event_fields', ['updated_by'], unique=False)
    op.create_index(op.f('ix_event_fields_uuid'), 'event_fields', ['uuid'], unique=True)
    op.create_table('event_media',
    sa.Column('event_uuid', sa.UUID(), nullable=False),
    sa.Column('media_type', sa.String(length=50), nullable=False),
    sa.Column('url', sa.String(length=500), nullable=False),
    sa.Column('title', sa.String(length=255), nullable=True),
    sa.Column('description', sa.String(length=500), nullable=True),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('is_cover', sa.Boolean(), nullable=False),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['event_uuid'], ['events.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_event_media_created_by'), 'event_media', ['created_by'], unique=False)
    op.create_index(op.f('ix_event_media_deleted_by'), 'event_media', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_event_media_event_uuid'), 'event_media', ['event_uuid'], unique=False)
    op.create_index(op.f('ix_event_media_id'), 'event_media', ['id'], unique=False)
    op.create_index(op.f('ix_event_media_media_type'), 'event_media', ['media_type'], unique=False)
    op.create_index(op.f('ix_event_media_updated_by'), 'event_media', ['updated_by'], unique=False)
    op.create_index(op.f('ix_event_media_uuid'), 'event_media', ['uuid'], unique=True)
    op.create_table('event_prices',
    sa.Column('event_uuid', sa.UUID(), nullable=False),
    sa.Column('label', sa.String(length=255), nullable=False),
    sa.Column('price_key', sa.String(length=100), nullable=False),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('price', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('quota', sa.Integer(), nullable=True),
    sa.Column('sold', sa.Integer(), nullable=False),
    sa.Column('start_at', sa.DateTime(), nullable=True),
    sa.Column('end_at', sa.DateTime(), nullable=True),
    sa.Column('is_enabled', sa.Boolean(), nullable=False),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['event_uuid'], ['events.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_event_prices_created_by'), 'event_prices', ['created_by'], unique=False)
    op.create_index(op.f('ix_event_prices_deleted_by'), 'event_prices', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_event_prices_event_uuid'), 'event_prices', ['event_uuid'], unique=False)
    op.create_index(op.f('ix_event_prices_id'), 'event_prices', ['id'], unique=False)
    op.create_index(op.f('ix_event_prices_price_key'), 'event_prices', ['price_key'], unique=False)
    op.create_index(op.f('ix_event_prices_updated_by'), 'event_prices', ['updated_by'], unique=False)
    op.create_index(op.f('ix_event_prices_uuid'), 'event_prices', ['uuid'], unique=True)
    op.create_table('event_questions',
    sa.Column('event_uuid', sa.UUID(), nullable=False),
    sa.Column('question', sa.String(length=500), nullable=False),
    sa.Column('answer', sa.String(), nullable=True),
    sa.Column('question_type', sa.String(length=50), nullable=True),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('is_enabled', sa.Boolean(), nullable=False),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['event_uuid'], ['events.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_event_questions_created_by'), 'event_questions', ['created_by'], unique=False)
    op.create_index(op.f('ix_event_questions_deleted_by'), 'event_questions', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_event_questions_event_uuid'), 'event_questions', ['event_uuid'], unique=False)
    op.create_index(op.f('ix_event_questions_id'), 'event_questions', ['id'], unique=False)
    op.create_index(op.f('ix_event_questions_updated_by'), 'event_questions', ['updated_by'], unique=False)
    op.create_index(op.f('ix_event_questions_uuid'), 'event_questions', ['uuid'], unique=True)
    op.create_table('event_report_cache',
    sa.Column('event_uuid', sa.UUID(), nullable=False),
    sa.Column('report_data', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['event_uuid'], ['events.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_event_report_cache_created_by'), 'event_report_cache', ['created_by'], unique=False)
    op.create_index(op.f('ix_event_report_cache_deleted_by'), 'event_report_cache', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_event_report_cache_event_uuid'), 'event_report_cache', ['event_uuid'], unique=True)
    op.create_index(op.f('ix_event_report_cache_id'), 'event_report_cache', ['id'], unique=False)
    op.create_index(op.f('ix_event_report_cache_updated_by'), 'event_report_cache', ['updated_by'], unique=False)
    op.create_index(op.f('ix_event_report_cache_uuid'), 'event_report_cache', ['uuid'], unique=True)
    op.create_table('event_rules',
    sa.Column('event_uuid', sa.UUID(), nullable=False),
    sa.Column('rule_uuid', sa.UUID(), nullable=True),
    sa.Column('name', sa.String(length=255), nullable=False),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['event_uuid'], ['events.uuid'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['rule_uuid'], ['activity_rules.uuid'], ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_event_rules_created_by'), 'event_rules', ['created_by'], unique=False)
    op.create_index(op.f('ix_event_rules_deleted_by'), 'event_rules', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_event_rules_event_uuid'), 'event_rules', ['event_uuid'], unique=False)
    op.create_index(op.f('ix_event_rules_id'), 'event_rules', ['id'], unique=False)
    op.create_index(op.f('ix_event_rules_rule_uuid'), 'event_rules', ['rule_uuid'], unique=False)
    op.create_index(op.f('ix_event_rules_updated_by'), 'event_rules', ['updated_by'], unique=False)
    op.create_index(op.f('ix_event_rules_uuid'), 'event_rules', ['uuid'], unique=True)
    op.create_table('event_schedules',
    sa.Column('event_uuid', sa.UUID(), nullable=False),
    sa.Column('title', sa.String(length=255), nullable=False),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('start_at', sa.DateTime(), nullable=True),
    sa.Column('end_at', sa.DateTime(), nullable=True),
    sa.Column('location', sa.String(length=255), nullable=True),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('is_enabled', sa.Boolean(), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['event_uuid'], ['events.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_event_schedules_created_by'), 'event_schedules', ['created_by'], unique=False)
    op.create_index(op.f('ix_event_schedules_deleted_by'), 'event_schedules', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_event_schedules_event_uuid'), 'event_schedules', ['event_uuid'], unique=False)
    op.create_index(op.f('ix_event_schedules_id'), 'event_schedules', ['id'], unique=False)
    op.create_index(op.f('ix_event_schedules_updated_by'), 'event_schedules', ['updated_by'], unique=False)
    op.create_index(op.f('ix_event_schedules_uuid'), 'event_schedules', ['uuid'], unique=True)
    op.create_table('event_staffs',
    sa.Column('event_uuid', sa.UUID(), nullable=False),
    sa.Column('user_uuid', sa.UUID(), nullable=True),
    sa.Column('name', sa.String(length=255), nullable=False),
    sa.Column('phone', sa.String(length=50), nullable=True),
    sa.Column('email', sa.String(length=255), nullable=True),
    sa.Column('role', sa.String(length=100), nullable=False),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('is_enabled', sa.Boolean(), nullable=False),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['event_uuid'], ['events.uuid'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_uuid'], ['users.uuid'], ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_event_staffs_created_by'), 'event_staffs', ['created_by'], unique=False)
    op.create_index(op.f('ix_event_staffs_deleted_by'), 'event_staffs', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_event_staffs_event_uuid'), 'event_staffs', ['event_uuid'], unique=False)
    op.create_index(op.f('ix_event_staffs_id'), 'event_staffs', ['id'], unique=False)
    op.create_index(op.f('ix_event_staffs_role'), 'event_staffs', ['role'], unique=False)
    op.create_index(op.f('ix_event_staffs_updated_by'), 'event_staffs', ['updated_by'], unique=False)
    op.create_index(op.f('ix_event_staffs_user_uuid'), 'event_staffs', ['user_uuid'], unique=False)
    op.create_index(op.f('ix_event_staffs_uuid'), 'event_staffs', ['uuid'], unique=True)
    op.create_table('event_tickets',
    sa.Column('event_uuid', sa.UUID(), nullable=False),
    sa.Column('submission_uuid', sa.UUID(), nullable=False),
    sa.Column('price_uuid', sa.UUID(), nullable=True),
    sa.Column('ticket_code', sa.String(length=100), nullable=False),
    sa.Column('holder_name', sa.String(length=255), nullable=False),
    sa.Column('holder_email', sa.String(length=255), nullable=True),
    sa.Column('holder_phone', sa.String(length=50), nullable=True),
    sa.Column('checked_in', sa.Boolean(), nullable=False),
    sa.Column('checked_in_at', sa.DateTime(), nullable=True),
    sa.Column('is_cancelled', sa.Boolean(), nullable=False),
    sa.Column('cancelled_at', sa.DateTime(), nullable=True),
    sa.Column('status', sa.String(length=50), nullable=False),
    sa.Column('config', postgresql.JSONB(astext_type=sa.Text()), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('uuid', sa.UUID(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_by', sa.UUID(), nullable=True),
    sa.Column('updated_by', sa.UUID(), nullable=True),
    sa.Column('deleted_by', sa.UUID(), nullable=True),
    sa.Column('created_by_role', sa.String(), nullable=True),
    sa.Column('updated_by_role', sa.String(), nullable=True),
    sa.Column('deleted_by_role', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['event_uuid'], ['events.uuid'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['price_uuid'], ['event_prices.uuid'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['submission_uuid'], ['submissions.uuid'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_event_tickets_created_by'), 'event_tickets', ['created_by'], unique=False)
    op.create_index(op.f('ix_event_tickets_deleted_by'), 'event_tickets', ['deleted_by'], unique=False)
    op.create_index(op.f('ix_event_tickets_event_uuid'), 'event_tickets', ['event_uuid'], unique=False)
    op.create_index(op.f('ix_event_tickets_id'), 'event_tickets', ['id'], unique=False)
    op.create_index(op.f('ix_event_tickets_price_uuid'), 'event_tickets', ['price_uuid'], unique=False)
    op.create_index(op.f('ix_event_tickets_status'), 'event_tickets', ['status'], unique=False)
    op.create_index(op.f('ix_event_tickets_submission_uuid'), 'event_tickets', ['submission_uuid'], unique=False)
    op.create_index(op.f('ix_event_tickets_ticket_code'), 'event_tickets', ['ticket_code'], unique=True)
    op.create_index(op.f('ix_event_tickets_updated_by'), 'event_tickets', ['updated_by'], unique=False)
    op.create_index(op.f('ix_event_tickets_uuid'), 'event_tickets', ['uuid'], unique=True)
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index(op.f('ix_event_tickets_uuid'), table_name='event_tickets')
    op.drop_index(op.f('ix_event_tickets_updated_by'), table_name='event_tickets')
    op.drop_index(op.f('ix_event_tickets_ticket_code'), table_name='event_tickets')
    op.drop_index(op.f('ix_event_tickets_submission_uuid'), table_name='event_tickets')
    op.drop_index(op.f('ix_event_tickets_status'), table_name='event_tickets')
    op.drop_index(op.f('ix_event_tickets_price_uuid'), table_name='event_tickets')
    op.drop_index(op.f('ix_event_tickets_id'), table_name='event_tickets')
    op.drop_index(op.f('ix_event_tickets_event_uuid'), table_name='event_tickets')
    op.drop_index(op.f('ix_event_tickets_deleted_by'), table_name='event_tickets')
    op.drop_index(op.f('ix_event_tickets_created_by'), table_name='event_tickets')
    op.drop_table('event_tickets')
    op.drop_index(op.f('ix_event_staffs_uuid'), table_name='event_staffs')
    op.drop_index(op.f('ix_event_staffs_user_uuid'), table_name='event_staffs')
    op.drop_index(op.f('ix_event_staffs_updated_by'), table_name='event_staffs')
    op.drop_index(op.f('ix_event_staffs_role'), table_name='event_staffs')
    op.drop_index(op.f('ix_event_staffs_id'), table_name='event_staffs')
    op.drop_index(op.f('ix_event_staffs_event_uuid'), table_name='event_staffs')
    op.drop_index(op.f('ix_event_staffs_deleted_by'), table_name='event_staffs')
    op.drop_index(op.f('ix_event_staffs_created_by'), table_name='event_staffs')
    op.drop_table('event_staffs')
    op.drop_index(op.f('ix_event_schedules_uuid'), table_name='event_schedules')
    op.drop_index(op.f('ix_event_schedules_updated_by'), table_name='event_schedules')
    op.drop_index(op.f('ix_event_schedules_id'), table_name='event_schedules')
    op.drop_index(op.f('ix_event_schedules_event_uuid'), table_name='event_schedules')
    op.drop_index(op.f('ix_event_schedules_deleted_by'), table_name='event_schedules')
    op.drop_index(op.f('ix_event_schedules_created_by'), table_name='event_schedules')
    op.drop_table('event_schedules')
    op.drop_index(op.f('ix_event_rules_uuid'), table_name='event_rules')
    op.drop_index(op.f('ix_event_rules_updated_by'), table_name='event_rules')
    op.drop_index(op.f('ix_event_rules_rule_uuid'), table_name='event_rules')
    op.drop_index(op.f('ix_event_rules_id'), table_name='event_rules')
    op.drop_index(op.f('ix_event_rules_event_uuid'), table_name='event_rules')
    op.drop_index(op.f('ix_event_rules_deleted_by'), table_name='event_rules')
    op.drop_index(op.f('ix_event_rules_created_by'), table_name='event_rules')
    op.drop_table('event_rules')
    op.drop_index(op.f('ix_event_report_cache_uuid'), table_name='event_report_cache')
    op.drop_index(op.f('ix_event_report_cache_updated_by'), table_name='event_report_cache')
    op.drop_index(op.f('ix_event_report_cache_id'), table_name='event_report_cache')
    op.drop_index(op.f('ix_event_report_cache_event_uuid'), table_name='event_report_cache')
    op.drop_index(op.f('ix_event_report_cache_deleted_by'), table_name='event_report_cache')
    op.drop_index(op.f('ix_event_report_cache_created_by'), table_name='event_report_cache')
    op.drop_table('event_report_cache')
    op.drop_index(op.f('ix_event_questions_uuid'), table_name='event_questions')
    op.drop_index(op.f('ix_event_questions_updated_by'), table_name='event_questions')
    op.drop_index(op.f('ix_event_questions_id'), table_name='event_questions')
    op.drop_index(op.f('ix_event_questions_event_uuid'), table_name='event_questions')
    op.drop_index(op.f('ix_event_questions_deleted_by'), table_name='event_questions')
    op.drop_index(op.f('ix_event_questions_created_by'), table_name='event_questions')
    op.drop_table('event_questions')
    op.drop_index(op.f('ix_event_prices_uuid'), table_name='event_prices')
    op.drop_index(op.f('ix_event_prices_updated_by'), table_name='event_prices')
    op.drop_index(op.f('ix_event_prices_price_key'), table_name='event_prices')
    op.drop_index(op.f('ix_event_prices_id'), table_name='event_prices')
    op.drop_index(op.f('ix_event_prices_event_uuid'), table_name='event_prices')
    op.drop_index(op.f('ix_event_prices_deleted_by'), table_name='event_prices')
    op.drop_index(op.f('ix_event_prices_created_by'), table_name='event_prices')
    op.drop_table('event_prices')
    op.drop_index(op.f('ix_event_media_uuid'), table_name='event_media')
    op.drop_index(op.f('ix_event_media_updated_by'), table_name='event_media')
    op.drop_index(op.f('ix_event_media_media_type'), table_name='event_media')
    op.drop_index(op.f('ix_event_media_id'), table_name='event_media')
    op.drop_index(op.f('ix_event_media_event_uuid'), table_name='event_media')
    op.drop_index(op.f('ix_event_media_deleted_by'), table_name='event_media')
    op.drop_index(op.f('ix_event_media_created_by'), table_name='event_media')
    op.drop_table('event_media')
    op.drop_index(op.f('ix_event_fields_uuid'), table_name='event_fields')
    op.drop_index(op.f('ix_event_fields_updated_by'), table_name='event_fields')
    op.drop_index(op.f('ix_event_fields_id'), table_name='event_fields')
    op.drop_index(op.f('ix_event_fields_field_key'), table_name='event_fields')
    op.drop_index(op.f('ix_event_fields_event_uuid'), table_name='event_fields')
    op.drop_index(op.f('ix_event_fields_deleted_by'), table_name='event_fields')
    op.drop_index(op.f('ix_event_fields_created_by'), table_name='event_fields')
    op.drop_table('event_fields')
    op.drop_index(op.f('ix_activity_template_field_options_uuid'), table_name='activity_template_field_options')
    op.drop_index(op.f('ix_activity_template_field_options_updated_by'), table_name='activity_template_field_options')
    op.drop_index(op.f('ix_activity_template_field_options_id'), table_name='activity_template_field_options')
    op.drop_index(op.f('ix_activity_template_field_options_field_uuid'), table_name='activity_template_field_options')
    op.drop_index(op.f('ix_activity_template_field_options_deleted_by'), table_name='activity_template_field_options')
    op.drop_index(op.f('ix_activity_template_field_options_created_by'), table_name='activity_template_field_options')
    op.drop_table('activity_template_field_options')
    op.drop_index(op.f('ix_user_sessions_uuid'), table_name='user_sessions')
    op.drop_index(op.f('ix_user_sessions_user_uuid'), table_name='user_sessions')
    op.drop_index(op.f('ix_user_sessions_updated_by'), table_name='user_sessions')
    op.drop_index(op.f('ix_user_sessions_refresh_token_uuid'), table_name='user_sessions')
    op.drop_index(op.f('ix_user_sessions_id'), table_name='user_sessions')
    op.drop_index(op.f('ix_user_sessions_deleted_by'), table_name='user_sessions')
    op.drop_index(op.f('ix_user_sessions_created_by'), table_name='user_sessions')
    op.drop_table('user_sessions')
    op.drop_index(op.f('ix_events_uuid'), table_name='events')
    op.drop_index(op.f('ix_events_updated_by'), table_name='events')
    op.drop_index(op.f('ix_events_status'), table_name='events')
    op.drop_index(op.f('ix_events_organizer_uuid'), table_name='events')
    op.drop_index(op.f('ix_events_id'), table_name='events')
    op.drop_index(op.f('ix_events_event_code'), table_name='events')
    op.drop_index(op.f('ix_events_deleted_by'), table_name='events')
    op.drop_index(op.f('ix_events_created_by'), table_name='events')
    op.drop_index(op.f('ix_events_aactivity_template_uuid'), table_name='events')
    op.drop_table('events')
    op.drop_index(op.f('ix_activity_template_rules_uuid'), table_name='activity_template_rules')
    op.drop_index(op.f('ix_activity_template_rules_updated_by'), table_name='activity_template_rules')
    op.drop_index(op.f('ix_activity_template_rules_template_uuid'), table_name='activity_template_rules')
    op.drop_index(op.f('ix_activity_template_rules_rule_uuid'), table_name='activity_template_rules')
    op.drop_index(op.f('ix_activity_template_rules_id'), table_name='activity_template_rules')
    op.drop_index(op.f('ix_activity_template_rules_deleted_by'), table_name='activity_template_rules')
    op.drop_index(op.f('ix_activity_template_rules_created_by'), table_name='activity_template_rules')
    op.drop_table('activity_template_rules')
    op.drop_index(op.f('ix_activity_template_fields_uuid'), table_name='activity_template_fields')
    op.drop_index(op.f('ix_activity_template_fields_updated_by'), table_name='activity_template_fields')
    op.drop_index(op.f('ix_activity_template_fields_template_uuid'), table_name='activity_template_fields')
    op.drop_index(op.f('ix_activity_template_fields_id'), table_name='activity_template_fields')
    op.drop_index(op.f('ix_activity_template_fields_deleted_by'), table_name='activity_template_fields')
    op.drop_index(op.f('ix_activity_template_fields_created_by'), table_name='activity_template_fields')
    op.drop_table('activity_template_fields')
    op.drop_index(op.f('ix_user_settings_uuid'), table_name='user_settings')
    op.drop_index(op.f('ix_user_settings_user_uuid'), table_name='user_settings')
    op.drop_index(op.f('ix_user_settings_updated_by'), table_name='user_settings')
    op.drop_index(op.f('ix_user_settings_id'), table_name='user_settings')
    op.drop_index(op.f('ix_user_settings_deleted_by'), table_name='user_settings')
    op.drop_index(op.f('ix_user_settings_created_by'), table_name='user_settings')
    op.drop_table('user_settings')
    op.drop_index(op.f('ix_system_memberships_uuid'), table_name='system_memberships')
    op.drop_index(op.f('ix_system_memberships_user_uuid'), table_name='system_memberships')
    op.drop_index(op.f('ix_system_memberships_updated_by'), table_name='system_memberships')
    op.drop_index(op.f('ix_system_memberships_role'), table_name='system_memberships')
    op.drop_index(op.f('ix_system_memberships_id'), table_name='system_memberships')
    op.drop_index(op.f('ix_system_memberships_deleted_by'), table_name='system_memberships')
    op.drop_index(op.f('ix_system_memberships_created_by'), table_name='system_memberships')
    op.drop_table('system_memberships')
    op.drop_index(op.f('ix_system_audit_logs_uuid'), table_name='system_audit_logs')
    op.drop_index(op.f('ix_system_audit_logs_user_uuid'), table_name='system_audit_logs')
    op.drop_index(op.f('ix_system_audit_logs_user_email'), table_name='system_audit_logs')
    op.drop_index(op.f('ix_system_audit_logs_updated_by'), table_name='system_audit_logs')
    op.drop_index(op.f('ix_system_audit_logs_id'), table_name='system_audit_logs')
    op.drop_index(op.f('ix_system_audit_logs_deleted_by'), table_name='system_audit_logs')
    op.drop_index(op.f('ix_system_audit_logs_created_by'), table_name='system_audit_logs')
    op.drop_index(op.f('ix_system_audit_logs_audit_code'), table_name='system_audit_logs')
    op.drop_index(op.f('ix_system_audit_logs_action'), table_name='system_audit_logs')
    op.drop_table('system_audit_logs')
    op.drop_index(op.f('ix_refresh_tokens_uuid'), table_name='refresh_tokens')
    op.drop_index(op.f('ix_refresh_tokens_user_uuid'), table_name='refresh_tokens')
    op.drop_index(op.f('ix_refresh_tokens_updated_by'), table_name='refresh_tokens')
    op.drop_index(op.f('ix_refresh_tokens_token'), table_name='refresh_tokens')
    op.drop_index(op.f('ix_refresh_tokens_id'), table_name='refresh_tokens')
    op.drop_index(op.f('ix_refresh_tokens_deleted_by'), table_name='refresh_tokens')
    op.drop_index(op.f('ix_refresh_tokens_created_by'), table_name='refresh_tokens')
    op.drop_table('refresh_tokens')
    op.drop_index(op.f('ix_password_resets_uuid'), table_name='password_resets')
    op.drop_index(op.f('ix_password_resets_user_uuid'), table_name='password_resets')
    op.drop_index(op.f('ix_password_resets_updated_by'), table_name='password_resets')
    op.drop_index(op.f('ix_password_resets_token'), table_name='password_resets')
    op.drop_index(op.f('ix_password_resets_id'), table_name='password_resets')
    op.drop_index(op.f('ix_password_resets_email'), table_name='password_resets')
    op.drop_index(op.f('ix_password_resets_deleted_by'), table_name='password_resets')
    op.drop_index(op.f('ix_password_resets_created_by'), table_name='password_resets')
    op.drop_table('password_resets')
    op.drop_index(op.f('ix_organizer_memberships_uuid'), table_name='organizer_memberships')
    op.drop_index(op.f('ix_organizer_memberships_user_uuid'), table_name='organizer_memberships')
    op.drop_index(op.f('ix_organizer_memberships_updated_by'), table_name='organizer_memberships')
    op.drop_index(op.f('ix_organizer_memberships_role'), table_name='organizer_memberships')
    op.drop_index(op.f('ix_organizer_memberships_organizer_uuid'), table_name='organizer_memberships')
    op.drop_index(op.f('ix_organizer_memberships_id'), table_name='organizer_memberships')
    op.drop_index(op.f('ix_organizer_memberships_deleted_by'), table_name='organizer_memberships')
    op.drop_index(op.f('ix_organizer_memberships_created_by'), table_name='organizer_memberships')
    op.drop_table('organizer_memberships')
    op.drop_index(op.f('ix_organizer_applications_uuid'), table_name='organizer_applications')
    op.drop_index(op.f('ix_organizer_applications_user_uuid'), table_name='organizer_applications')
    op.drop_index(op.f('ix_organizer_applications_updated_by'), table_name='organizer_applications')
    op.drop_index(op.f('ix_organizer_applications_id'), table_name='organizer_applications')
    op.drop_index(op.f('ix_organizer_applications_deleted_by'), table_name='organizer_applications')
    op.drop_index(op.f('ix_organizer_applications_created_by'), table_name='organizer_applications')
    op.drop_table('organizer_applications')
    op.drop_index(op.f('ix_email_verifications_uuid'), table_name='email_verifications')
    op.drop_index(op.f('ix_email_verifications_user_uuid'), table_name='email_verifications')
    op.drop_index(op.f('ix_email_verifications_updated_by'), table_name='email_verifications')
    op.drop_index(op.f('ix_email_verifications_id'), table_name='email_verifications')
    op.drop_index(op.f('ix_email_verifications_email'), table_name='email_verifications')
    op.drop_index(op.f('ix_email_verifications_deleted_by'), table_name='email_verifications')
    op.drop_index(op.f('ix_email_verifications_created_by'), table_name='email_verifications')
    op.drop_table('email_verifications')
    op.drop_index(op.f('ix_auth_logs_uuid'), table_name='auth_logs')
    op.drop_index(op.f('ix_auth_logs_user_uuid'), table_name='auth_logs')
    op.drop_index(op.f('ix_auth_logs_updated_by'), table_name='auth_logs')
    op.drop_index(op.f('ix_auth_logs_id'), table_name='auth_logs')
    op.drop_index(op.f('ix_auth_logs_deleted_by'), table_name='auth_logs')
    op.drop_index(op.f('ix_auth_logs_created_by'), table_name='auth_logs')
    op.drop_table('auth_logs')
    op.drop_index(op.f('ix_activity_templates_uuid'), table_name='activity_templates')
    op.drop_index(op.f('ix_activity_templates_updated_by'), table_name='activity_templates')
    op.drop_index(op.f('ix_activity_templates_template_code'), table_name='activity_templates')
    op.drop_index(op.f('ix_activity_templates_id'), table_name='activity_templates')
    op.drop_index(op.f('ix_activity_templates_deleted_by'), table_name='activity_templates')
    op.drop_index(op.f('ix_activity_templates_created_by'), table_name='activity_templates')
    op.drop_index(op.f('ix_activity_templates_activity_type_uuid'), table_name='activity_templates')
    op.drop_table('activity_templates')
    op.drop_index(op.f('ix_users_uuid'), table_name='users')
    op.drop_index(op.f('ix_users_updated_by'), table_name='users')
    op.drop_index(op.f('ix_users_phone'), table_name='users')
    op.drop_index(op.f('ix_users_id'), table_name='users')
    op.drop_index(op.f('ix_users_email'), table_name='users')
    op.drop_index(op.f('ix_users_deleted_by'), table_name='users')
    op.drop_index(op.f('ix_users_created_by'), table_name='users')
    op.drop_table('users')
    op.drop_index(op.f('ix_system_settings_uuid'), table_name='system_settings')
    op.drop_index(op.f('ix_system_settings_updated_by'), table_name='system_settings')
    op.drop_index(op.f('ix_system_settings_id'), table_name='system_settings')
    op.drop_index(op.f('ix_system_settings_deleted_by'), table_name='system_settings')
    op.drop_index(op.f('ix_system_settings_created_by'), table_name='system_settings')
    op.drop_table('system_settings')
    op.drop_index(op.f('ix_system_notifications_uuid'), table_name='system_notifications')
    op.drop_index(op.f('ix_system_notifications_updated_by'), table_name='system_notifications')
    op.drop_index(op.f('ix_system_notifications_notification_code'), table_name='system_notifications')
    op.drop_index(op.f('ix_system_notifications_id'), table_name='system_notifications')
    op.drop_index(op.f('ix_system_notifications_deleted_by'), table_name='system_notifications')
    op.drop_index(op.f('ix_system_notifications_created_by'), table_name='system_notifications')
    op.drop_table('system_notifications')
    op.drop_index(op.f('ix_system_config_versions_version_code'), table_name='system_config_versions')
    op.drop_index(op.f('ix_system_config_versions_uuid'), table_name='system_config_versions')
    op.drop_index(op.f('ix_system_config_versions_updated_by'), table_name='system_config_versions')
    op.drop_index(op.f('ix_system_config_versions_id'), table_name='system_config_versions')
    op.drop_index(op.f('ix_system_config_versions_deleted_by'), table_name='system_config_versions')
    op.drop_index(op.f('ix_system_config_versions_created_by'), table_name='system_config_versions')
    op.drop_table('system_config_versions')
    op.drop_index(op.f('ix_submissions_uuid'), table_name='submissions')
    op.drop_index(op.f('ix_submissions_user_uuid'), table_name='submissions')
    op.drop_index(op.f('ix_submissions_user_email'), table_name='submissions')
    op.drop_index(op.f('ix_submissions_updated_by'), table_name='submissions')
    op.drop_index(op.f('ix_submissions_submission_code'), table_name='submissions')
    op.drop_index(op.f('ix_submissions_id'), table_name='submissions')
    op.drop_index(op.f('ix_submissions_event_uuid'), table_name='submissions')
    op.drop_index(op.f('ix_submissions_deleted_by'), table_name='submissions')
    op.drop_index(op.f('ix_submissions_created_by'), table_name='submissions')
    op.drop_table('submissions')
    op.drop_index(op.f('ix_submission_values_uuid'), table_name='submission_values')
    op.drop_index(op.f('ix_submission_values_updated_by'), table_name='submission_values')
    op.drop_index(op.f('ix_submission_values_submission_uuid'), table_name='submission_values')
    op.drop_index(op.f('ix_submission_values_id'), table_name='submission_values')
    op.drop_index(op.f('ix_submission_values_event_field_uuid'), table_name='submission_values')
    op.drop_index(op.f('ix_submission_values_deleted_by'), table_name='submission_values')
    op.drop_index(op.f('ix_submission_values_created_by'), table_name='submission_values')
    op.drop_table('submission_values')
    op.drop_index(op.f('ix_submission_files_uuid'), table_name='submission_files')
    op.drop_index(op.f('ix_submission_files_updated_by'), table_name='submission_files')
    op.drop_index(op.f('ix_submission_files_submission_value_uuid'), table_name='submission_files')
    op.drop_index(op.f('ix_submission_files_submission_uuid'), table_name='submission_files')
    op.drop_index(op.f('ix_submission_files_id'), table_name='submission_files')
    op.drop_index(op.f('ix_submission_files_file_uuid'), table_name='submission_files')
    op.drop_index(op.f('ix_submission_files_deleted_by'), table_name='submission_files')
    op.drop_index(op.f('ix_submission_files_created_by'), table_name='submission_files')
    op.drop_table('submission_files')
    op.drop_index(op.f('ix_platforms_uuid'), table_name='platforms')
    op.drop_index(op.f('ix_platforms_updated_by'), table_name='platforms')
    op.drop_index(op.f('ix_platforms_slug'), table_name='platforms')
    op.drop_index(op.f('ix_platforms_name'), table_name='platforms')
    op.drop_index(op.f('ix_platforms_id'), table_name='platforms')
    op.drop_index(op.f('ix_platforms_deleted_by'), table_name='platforms')
    op.drop_index(op.f('ix_platforms_created_by'), table_name='platforms')
    op.drop_table('platforms')
    op.drop_index(op.f('ix_organizers_uuid'), table_name='organizers')
    op.drop_index(op.f('ix_organizers_updated_by'), table_name='organizers')
    op.drop_index(op.f('ix_organizers_status'), table_name='organizers')
    op.drop_index(op.f('ix_organizers_id'), table_name='organizers')
    op.drop_index(op.f('ix_organizers_deleted_by'), table_name='organizers')
    op.drop_index(op.f('ix_organizers_created_by'), table_name='organizers')
    op.drop_table('organizers')
    op.drop_index(op.f('ix_files_uuid'), table_name='files')
    op.drop_index(op.f('ix_files_updated_by'), table_name='files')
    op.drop_index(op.f('ix_files_id'), table_name='files')
    op.drop_index(op.f('ix_files_deleted_by'), table_name='files')
    op.drop_index(op.f('ix_files_created_by'), table_name='files')
    op.drop_table('files')
    op.drop_index(op.f('ix_activity_types_uuid'), table_name='activity_types')
    op.drop_index(op.f('ix_activity_types_updated_by'), table_name='activity_types')
    op.drop_index(op.f('ix_activity_types_id'), table_name='activity_types')
    op.drop_index(op.f('ix_activity_types_deleted_by'), table_name='activity_types')
    op.drop_index(op.f('ix_activity_types_created_by'), table_name='activity_types')
    op.drop_index(op.f('ix_activity_types_category_key'), table_name='activity_types')
    op.drop_table('activity_types')
    op.drop_index(op.f('ix_activity_rules_uuid'), table_name='activity_rules')
    op.drop_index(op.f('ix_activity_rules_updated_by'), table_name='activity_rules')
    op.drop_index(op.f('ix_activity_rules_id'), table_name='activity_rules')
    op.drop_index(op.f('ix_activity_rules_deleted_by'), table_name='activity_rules')
    op.drop_index(op.f('ix_activity_rules_created_by'), table_name='activity_rules')
    op.drop_table('activity_rules')
    # ### end Alembic commands ###
